<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYKOSYBER SPACE STATION (Optimized)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;700&family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-glow: #87ceeb;
            --secondary-glow: #4a90a4;
            --warning-glow: #ff6b6b;
            --success-glow: #51cf66;
            --bg-dark: #0d1b2a;
            --bg-mid: #1a237e;
            --text-primary: #f5f5dc;
            --text-secondary: #e6d7c3;
            --text-tertiary: #b8860b;
        }
        
        body {
            background: radial-gradient(ellipse at center, var(--bg-mid) 0%, var(--bg-dark) 40%, #000814 100%);
            color: var(--text-primary);
            font-family: 'IBM Plex Mono', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            cursor: crosshair;
        }

        /* --- OPTIMIZED BACKGROUND --- */
        /* Canvas for drawing stars and other background effects */
        #backgroundCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: auto; /* Allow clicks for interactive stars */
        }
        
        /* Custom cursor */
        .cursor-glow {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-glow);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s;
            animation: cursor-pulse 2s infinite;
        }
        
        @keyframes cursor-pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.5); opacity: 0.2; }
        }
        
        /* Solar flare effect */
        .solar-flare {
            position: fixed;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,200,100,0.3) 0%, transparent 50%);
            opacity: 0;
            animation: flare 15s infinite;
            pointer-events: none;
            z-index: 50;
        }
        
        @keyframes flare {
            0%, 90%, 100% { opacity: 0; }
            95% { opacity: 0.5; }
        }
        
        /* Scan lines effect with glitch */
        .scan-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(245, 245, 220, 0.01) 2px,
                    rgba(245, 245, 220, 0.01) 4px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 1000px,
                    rgba(135, 206, 235, 0.05) 1000px,
                    rgba(135, 206, 235, 0.05) 1001px
                );
            pointer-events: none;
            z-index: 100;
            animation: scan-distort 10s linear infinite;
        }
        
        @keyframes scan-distort {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(5px); }
        }
        
        /* Main container */
        .station-container {
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        /* Header with advanced effects */
        .station-header {
            padding: 30px;
            text-align: center;
            /* OPTIMIZATION: Replaced expensive backdrop-filter with a simple transparent background */
            background: rgba(13, 27, 42, 0.85); 
            border-bottom: 2px solid var(--secondary-glow);
            position: relative;
            overflow: hidden;
        }
        
        .station-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--primary-glow), transparent);
            animation: rotate 20s linear infinite;
            opacity: 0.1;
        }
        
        .station-title {
            font-family: 'Orbitron', monospace;
            font-size: 3.5em;
            font-weight: 900;
            color: var(--primary-glow);
            text-shadow: 
                0 0 30px rgba(135, 206, 235, 0.5),
                0 0 60px rgba(135, 206, 235, 0.3),
                0 0 90px rgba(135, 206, 235, 0.1);
            margin-bottom: 10px;
            letter-spacing: 0.2em;
            animation: pulse-glow 4s ease-in-out infinite, glitch 10s infinite;
            position: relative;
            z-index: 1;
        }
        
        @keyframes glitch {
            0%, 99% { 
                text-shadow: 
                    0 0 30px rgba(135, 206, 235, 0.5),
                    0 0 60px rgba(135, 206, 235, 0.3),
                    0 0 90px rgba(135, 206, 235, 0.1);
            }
            99.5% { 
                text-shadow: 
                    -3px 0 30px rgba(255, 0, 0, 0.5),
                    3px 0 30px rgba(0, 255, 0, 0.5),
                    0 0 60px rgba(135, 206, 235, 0.3);
            }
        }
        
        .station-subtitle {
            font-size: 1.1em;
            color: var(--text-secondary);
            letter-spacing: 0.15em;
            font-weight: 300;
            margin-bottom: 20px;
            opacity: 0;
            animation: fade-in 2s ease-out 0.5s forwards;
        }
        
        @keyframes fade-in {
            to { opacity: 1; }
        }
        
        .station-status {
            display: flex;
            justify-content: center;
            gap: 30px;
            font-size: 0.8em;
            color: var(--text-tertiary);
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .status-item:hover {
            color: var(--primary-glow);
            transform: translateY(-2px);
        }
        
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary-glow);
            box-shadow: 0 0 10px rgba(135, 206, 235, 0.7);
            animation: pulse 2s infinite;
        }
        
        .status-indicator.warning {
            background: var(--warning-glow);
            animation: warning-pulse 1s infinite;
        }
        
        @keyframes warning-pulse {
            0%, 100% { opacity: 1; box-shadow: 0 0 10px rgba(255, 107, 107, 0.7); }
            50% { opacity: 0.3; box-shadow: 0 0 20px rgba(255, 107, 107, 1); }
        }
        
        /* Navigation bridge */
        .navigation-bridge {
            padding: 40px;
             /* OPTIMIZATION: Replaced expensive backdrop-filter with a simple transparent background */
            background: rgba(26, 35, 126, 0.25);
            position: relative;
        }
        
        .nav-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.4em;
            color: var(--primary-glow);
            margin-bottom: 25px;
            text-align: center;
            letter-spacing: 0.1em;
        }
        

        .station-modules a {
            color: inherit;
            text-decoration: none;
        }
        
        .module {
            background: rgba(13, 27, 42, 0.6);
            border: 2px solid var(--secondary-glow);
            border-radius: 8px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .module::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(135, 206, 235, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .module:hover::before {
            left: 100%;
        }
        
        .module:hover {
            border-color: var(--primary-glow);
            box-shadow: 
                0 0 20px rgba(135, 206, 235, 0.3),
                inset 0 0 20px rgba(135, 206, 235, 0.1);
            transform: translateY(-5px) scale(1.02);
        }
        
        .module.active {
            border-color: var(--success-glow);
            background: rgba(81, 207, 102, 0.1);
        }
        
        .module-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .module-icon {
            font-size: 1.5em;
            color: var(--primary-glow);
            filter: drop-shadow(0 0 5px currentColor);
        }
        
        .module-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.1em;
            color: var(--text-secondary);
            font-weight: 700;
        }
        
        .module-description {
            color: var(--text-tertiary);
            line-height: 1.6;
            font-size: 0.9em;
        }
        
        .module-status {
            margin-top: 15px;
            font-size: 0.8em;
            color: var(--secondary-glow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Advanced Cosmonaut Interactive Panel */
        .cosmonaut-panel {
            background: rgba(13, 27, 42, 0.9);
            border: 2px solid var(--secondary-glow);
            border-radius: 12px;
            padding: 30px;
            margin: 30px auto;
            max-width: 1200px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 30px rgba(135, 206, 235, 0.2),
                inset 0 0 100px rgba(135, 206, 235, 0.05);
        }
        
        .panel-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(90deg, transparent, rgba(135, 206, 235, 0.1), transparent);
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-size: 0.8em;
            color: var(--primary-glow);
        }
        
        .panel-lights {
            display: flex;
            gap: 5px;
            margin-right: auto;
        }
        
        .panel-light {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary-glow);
            animation: blink 3s infinite;
        }
        
        .panel-light:nth-child(2) {
            animation-delay: 1s;
            background: var(--success-glow);
        }
        
        .panel-light:nth-child(3) {
            animation-delay: 2s;
            background: var(--warning-glow);
        }
        
        .panel-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.6em;
            color: var(--primary-glow);
            text-align: center;
            margin: 40px 0 30px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            text-shadow: 0 0 20px currentColor;
        }
        
        .interactive-area {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            align-items: center;
            min-height: 400px;
        }
        
        /* Advanced Cosmonaut Animation */
        .cosmonaut-container {
            position: relative;
            width: 100%;
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1000px;
        }
        
        .cosmonaut-wrapper {
            position: relative;
            transform-style: preserve-3d;
            animation: float-3d 6s ease-in-out infinite;
            will-change: transform; /* OPTIMIZATION: Hint for GPU acceleration */
        }
        
        @keyframes float-3d {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            25% { transform: translateY(-20px) rotateY(5deg); }
            50% { transform: translateY(0) rotateY(0deg); }
            75% { transform: translateY(-20px) rotateY(-5deg); }
        }
        
        .cosmonaut {
            width: 120px;
            height: 180px;
            position: relative;
        }
        
        .cosmonaut-helmet {
            width: 70px;
            height: 70px;
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%),
                radial-gradient(circle, #5a8fb9 0%, #2c5f7c 100%);
            border-radius: 50%;
            position: relative;
            box-shadow: 
                0 0 30px rgba(90, 143, 185, 0.5),
                inset -5px -5px 20px rgba(0,0,0,0.3);
            margin: 0 auto;
            animation: helmet-rotate 10s linear infinite;
        }
        
        @keyframes helmet-rotate {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        
        .cosmonaut-visor {
            width: 50px;
            height: 40px;
            background: 
                linear-gradient(135deg, rgba(135,206,235,0.8) 0%, rgba(74,144,164,0.8) 100%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="8" fill="rgba(255,255,255,0.1)">SYKOSYBER</text></svg>');
            border-radius: 50%;
            position: absolute;
            top: 12px;
            left: 10px;
            opacity: 0.9;
            animation: visor-glow 3s ease-in-out infinite;
            overflow: hidden;
        }
        
        .visor-reflection {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
            animation: reflection-move 5s linear infinite;
        }
        
        @keyframes reflection-move {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }
        
        @keyframes visor-glow {
            0%, 100% { 
                opacity: 0.9; 
                box-shadow: 
                    0 0 15px rgba(135, 206, 235, 0.8),
                    inset 0 0 15px rgba(135, 206, 235, 0.3);
            }
            50% { 
                opacity: 1; 
                box-shadow: 
                    0 0 25px rgba(135, 206, 235, 1),
                    inset 0 0 25px rgba(135, 206, 235, 0.5);
            }
        }
        
        .cosmonaut-body {
            width: 90px;
            height: 110px;
            background: 
                linear-gradient(180deg, #3a6b8c 0%, #2c5f7c 50%, #1a4d6b 100%),
                repeating-linear-gradient(90deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px);
            border-radius: 40px 40px 20px 20px;
            margin: -10px auto 0;
            position: relative;
            box-shadow: 
                0 5px 20px rgba(0,0,0,0.3),
                inset 0 -5px 20px rgba(0,0,0,0.2);
        }
        
        .chest-panel {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 50px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
            padding: 5px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3px;
        }
        
        .chest-light {
            width: 8px;
            height: 8px;
            background: var(--primary-glow);
            border-radius: 50%;
            animation: random-blink 2s infinite;
        }
        
        @keyframes random-blink {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .cosmonaut-arm {
            width: 35px;
            height: 70px;
            background: linear-gradient(180deg, #3a6b8c 0%, #2c5f7c 100%);
            position: absolute;
            top: 10px;
            border-radius: 15px;
            transform-origin: top center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }
        
        .cosmonaut-arm.left {
            left: -25px;
            animation: left-arm-type 4s ease-in-out infinite;
        }
        
        .cosmonaut-arm.right {
            right: -25px;
            animation: right-arm-type 4s ease-in-out infinite;
        }
        
        @keyframes left-arm-type {
            0%, 100% { transform: rotate(0deg); }
            10%, 15% { transform: rotate(-40deg) translateX(-10px); }
            20%, 25% { transform: rotate(-35deg) translateX(-8px); }
            30%, 35% { transform: rotate(-45deg) translateX(-12px); }
            40%, 60% { transform: rotate(-20deg) translateX(-5px); }
            70%, 90% { transform: rotate(10deg); }
        }
        
        @keyframes right-arm-type {
            0%, 100% { transform: rotate(0deg); }
            15%, 20% { transform: rotate(40deg) translateX(10px); }
            25%, 30% { transform: rotate(35deg) translateX(8px); }
            35%, 40% { transform: rotate(45deg) translateX(12px); }
            45%, 65% { transform: rotate(20deg) translateX(5px); }
            75%, 95% { transform: rotate(-10deg); }
        }
        
        .cosmonaut-hand {
            position: absolute;
            bottom: -5px;
            width: 20px;
            height: 20px;
            background: #5a8fb9;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        /* Tether cable */
        .tether {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 2px;
            height: 100px;
            background: linear-gradient(180deg, #4a90a4 0%, transparent 100%);
            transform-origin: top center;
            animation: tether-sway 8s ease-in-out infinite;
        }
        
        @keyframes tether-sway {
            0%, 100% { transform: translateX(-50%) rotate(0deg); }
            25% { transform: translateX(-50%) rotate(5deg); }
            75% { transform: translateX(-50%) rotate(-5deg); }
        }
        
        /* Interface screens with 3D effect */
        .interface-screens {
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            perspective: 800px;
        }
        
        .screen {
            background: 
                linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 100%),
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(135,206,235,0.03) 2px, rgba(135,206,235,0.03) 4px);
            border: 2px solid var(--secondary-glow);
            border-radius: 8px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transform: rotateY(-5deg);
            transition: transform 0.3s;
        }
        
        .screen:hover {
            transform: rotateY(0deg) scale(1.05);
        }
        
        .screen::before {
            content: '';
            position: absolute;
            top: -100%;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent, rgba(135,206,235,0.1), transparent);
            animation: scan-line 3s linear infinite;
        }
        
        @keyframes scan-line {
            0% { top: -100%; }
            100% { top: 100%; }
        }
        
        .screen-header {
            font-size: 0.9em;
            color: var(--primary-glow);
            margin-bottom: 10px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .screen-indicator {
            width: 6px;
            height: 6px;
            background: var(--success-glow);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .screen-content {
            font-size: 0.8em;
            color: var(--text-tertiary);
            line-height: 1.6;
        }
        
        .data-stream {
            font-family: monospace;
            font-size: 0.7em;
            color: var(--secondary-glow);
            height: 120px;
            overflow: hidden;
            position: relative;
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 4px;
        }
        
        .code-highlight {
            color: var(--success-glow);
            font-weight: bold;
        }
        
        /* Advanced AI System */
        .ai-system {
            text-align: center;
            position: relative;
            perspective: 1000px;
        }
        
        .ai-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
            transform-style: preserve-3d;
            animation: ai-rotate 20s linear infinite;
            will-change: transform; /* OPTIMIZATION: Hint for GPU acceleration */
        }
        
        @keyframes ai-rotate {
            0% { transform: rotateX(0deg) rotateY(0deg); }
            100% { transform: rotateX(360deg) rotateY(360deg); }
        }
        
        .ai-core {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }
        
        .ai-ring {
            position: absolute;
            border: 2px solid var(--primary-glow);
            border-radius: 50%;
            box-shadow: 
                0 0 20px currentColor,
                inset 0 0 20px currentColor;
        }
        
        .ai-ring:nth-child(1) {
            width: 100%;
            height: 100%;
            animation: ring-pulse 3s ease-in-out infinite;
            transform: rotateX(0deg);
        }
        
        .ai-ring:nth-child(2) {
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            animation: ring-pulse 3s ease-in-out infinite 0.5s;
            transform: rotateX(45deg);
            border-color: var(--success-glow);
        }
        
        .ai-ring:nth-child(3) {
            width: 60%;
            height: 60%;
            top: 20%;
            left: 20%;
            animation: ring-pulse 3s ease-in-out infinite 1s;
            transform: rotateX(90deg);
            border-color: var(--warning-glow);
        }
        
        @keyframes ring-pulse {
            0%, 100% { 
                opacity: 0.5; 
                transform: scale(1) rotateZ(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1) rotateZ(180deg); 
            }
        }
        
        .ai-center {
            position: absolute;
            width: 40%;
            height: 40%;
            top: 30%;
            left: 30%;
            background: radial-gradient(circle, var(--primary-glow) 0%, var(--secondary-glow) 100%);
            border-radius: 50%;
            animation: ai-core-pulse 2s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .ai-center:hover {
            transform: scale(1.2);
            box-shadow: 0 0 50px var(--primary-glow);
        }
        
        @keyframes ai-core-pulse {
            0%, 100% { 
                box-shadow: 
                    0 0 30px var(--primary-glow),
                    inset 0 0 20px var(--secondary-glow);
            }
            50% { 
                box-shadow: 
                    0 0 60px var(--primary-glow),
                    inset 0 0 40px var(--secondary-glow);
            }
        }

        /* Particles are now on canvas, so this element is just a placeholder if needed, styles removed */
        .ai-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .ai-status {
            margin-top: 20px;
            font-size: 0.9em;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .ai-response {
            margin-top: 10px;
            padding: 15px;
            background: rgba(135, 206, 235, 0.1);
            border: 1px solid var(--primary-glow);
            border-radius: 4px;
            font-size: 0.8em;
            color: var(--primary-glow);
            min-height: 40px;
            position: relative;
            overflow: hidden;
        }
        
        .ai-response::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(135,206,235,0.3), transparent);
            animation: ai-thinking 2s linear infinite;
        }
        
        @keyframes ai-thinking {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .module-link {
            color: inherit;
            text-decoration: none;
        }
        /* Cryptic text */
        .cryptic-text {
            position: absolute;
            font-size: 0.7em;
            color: var(--secondary-glow);
            opacity: 0.5;
            font-family: monospace;
            animation: fade-in-out 5s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .cryptic-text:hover {
            opacity: 1;
            color: var(--primary-glow);
            transform: scale(1.2);
        }
        
        .cryptic-1 {
            top: 10%;
            right: 5%;
            transform: rotate(-15deg);
        }
        
        .cryptic-2 {
            bottom: 10%;
            left: 5%;
            transform: rotate(10deg);
            animation-delay: 1.5s;
        }
        
        .cryptic-3 {
            top: 60%;
            right: 10%;
            transform: rotate(-5deg);
            animation-delay: 3s;
        }
        
        @keyframes fade-in-out {
            0%, 100% { opacity: 0.3; transform: scale(1) rotate(var(--rotation)); }
            50% { opacity: 0.8; transform: scale(1.1) rotate(calc(var(--rotation) + 5deg)); }
        }
        
        /* Terminal interface with matrix effect */
        .terminal-interface {
            background: 
                linear-gradient(180deg, rgba(13, 27, 42, 0.9) 0%, rgba(13, 27, 42, 0.8) 100%),
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,0,0.03) 2px, rgba(0,255,0,0.03) 4px);
            border: 2px solid var(--secondary-glow);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .terminal-interface::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary-glow), transparent);
            animation: terminal-scan 3s linear infinite;
        }
        
        @keyframes terminal-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .terminal-header {
            color: var(--primary-glow);
            font-size: 0.9em;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-transform: uppercase;
        }
        
        .terminal-output {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--secondary-glow);
            border-radius: 4px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
            font-size: 0.85em;
            line-height: 1.5;
            position: relative;
        }
        
        .terminal-output::-webkit-scrollbar {
            width: 8px;
        }
        
        .terminal-output::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.3);
        }
        
        .terminal-output::-webkit-scrollbar-thumb {
            background: var(--secondary-glow);
            border-radius: 4px;
        }
        
        .terminal-line {
            margin-bottom: 8px;
            opacity: 0;
            animation: terminal-fade-in 0.5s ease-in-out forwards;
        }
        
        .terminal-prompt {
            color: var(--primary-glow);
            font-weight: 700;
            text-shadow: 0 0 5px currentColor;
        }
        
        .terminal-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }
        
        .terminal-prompt-input {
            color: var(--primary-glow);
            font-weight: 700;
            text-shadow: 0 0 5px currentColor;
        }
        
        .terminal-input {
            flex: 1;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--secondary-glow);
            border-radius: 4px;
            padding: 8px;
            color: var(--text-primary);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 1em;
            outline: none;
            caret-color: var(--primary-glow);
            transition: all 0.3s;
        }
        
        .terminal-input:focus {
            border-color: var(--primary-glow);
            box-shadow: 0 0 10px rgba(135,206,235,0.3);
        }
        
        .terminal-input::placeholder {
            color: var(--secondary-glow);
            opacity: 0.5;
        }
        
        .cursor {
            display: inline-block;
            width: 10px;
            height: 15px;
            background: var(--primary-glow);
            animation: blink 1s infinite;
            margin-left: 5px;
        }
        
        /* Easter egg section */
        .easter-egg {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background: rgba(13, 27, 42, 0.9);
            border: 1px solid var(--warning-glow);
            border-radius: 20px;
            color: var(--warning-glow);
            font-size: 0.8em;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
            z-index: 1000;
        }
        
        .easter-egg.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Achievement notification */
        .achievement {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            padding: 20px 40px;
            background: rgba(81, 115, 207, 0.9);
            border: 2px solid var(--success-glow);
            border-radius: 8px;
            color: white;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: all 0.5s;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(81, 207, 102, 0.5);
        }
        
        .achievement.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .achievement-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        /* Footer */
        .footer {
            margin-top: auto;
            padding: 30px;
            text-align: center;
            background: rgba(13, 27, 42, 0.8);
            border-top: 2px solid var(--secondary-glow);
            color: var(--text-tertiary);
            font-size: 0.8em;
            position: relative;
            overflow: hidden;
        }

        .footer-link {
            color: var(--primary-glow);
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
            margin-top: 10px;
        }

        .footer-link:hover {
            text-shadow: 0 0 10px var(--primary-glow);
            transform: scale(1.05);
        }
        
        .footer::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary-glow), transparent);
            animation: footer-scan 5s linear infinite;
        }
        
        @keyframes footer-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Sound button */
        .sound-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: rgba(13, 27, 42, 0.9);
            border: 2px solid var(--secondary-glow);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .sound-toggle:hover {
            border-color: var(--primary-glow);
            transform: scale(1.1);
        }
        
        .sound-toggle.active {
            background: rgba(135, 206, 235, 0.2);
            border-color: var(--primary-glow);
        }
        
        .sound-icon {
            font-size: 1.5em;
        }
        
        /* Animations */
        @keyframes pulse-glow {
            0%, 100% { 
                filter: brightness(1);
            }
            50% { 
                filter: brightness(1.2);
            }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes terminal-fade-in {
            0% { opacity: 0; transform: translateX(-10px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 1s;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-text {
            font-family: 'Orbitron', monospace;
            font-size: 1.5em;
            color: var(--primary-glow);
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }
        
        .loading-bar {
            width: 300px;
            height: 4px;
            background: rgba(135, 206, 235, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .loading-progress {
            height: 100%;
            background: var(--primary-glow);
            width: 0%;
            transition: width 0.3s;
            box-shadow: 0 0 10px currentColor;
        }

        .observatory-module-container {
            padding: 40px;
            /* OPTIMIZATION: Replaced expensive backdrop-filter with a simple transparent background */
            background: rgba(26, 35, 126, 0.25);
            position: relative;
            text-align: center; /* Center the module */
        }

        /* Style for the link wrapping the module */
        .observatory-link {
            text-decoration: none;
            color: inherit;
            display: inline-block; /* Allows centering and setting width if needed */
            width: 100%; /* Make it full width on smaller screens */
            max-width: 600px; /* Limit width on larger screens for better visual balance */
            margin: 0 auto; /* Center the module horizontally */
        }

        /* Style adjustments for the observatory module itself */
        .observatory-module {
            border-color: var(--primary-glow); /* A more prominent border */
            background: rgba(13, 27, 42, 0.8); /* Slightly darker background */
            box-shadow:
                0 0 30px rgba(135, 206, 235, 0.4),
                inset 0 0 20px rgba(135, 206, 235, 0.15);
        }

        .observatory-module:hover {
            transform: translateY(-8px) scale(1.05); /* More pronounced hover effect */
            box-shadow:
                0 0 40px rgba(135, 206, 235, 0.6),
                inset 0 0 30px rgba(135, 206, 235, 0.2);
        }

        .observatory-module .module-title {
            font-size: 1.6em; /* Make the title more prominent */
            color: var(--primary-glow);
            text-shadow: 0 0 15px var(--primary-glow);
        }

        .observatory-module .module-description {
            color: var(--text-secondary);
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .observatory-module .module-status {
            font-size: 1em;
            color: var(--primary-glow);
            gap: 15px;
            align-items: center;
            justify-content: center;
        }

        .observatory-module .launch-icon {
            font-size: 1.2em;
            animation: launch-pulse 2s infinite alternate;
        }

        @keyframes launch-pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        /* Ensure the top modules remain a grid */
        .station-modules {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Force 2 columns */
            gap: 25px;
            margin-bottom: 30px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .station-modules {
                grid-template-columns: 1fr; /* Single column on smaller screens */
            }
            .observatory-link {
                width: 100%; /* Ensure full width on smaller screens */
            }
            .station-title {
                font-size: 2.5em;
            }
            
            .interactive-area {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .cosmonaut-container {
                order: -1;
                height: 250px;
            }
            
            .wire {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">Initializing Station</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
    </div>
    
    <div class="cursor-glow" id="customCursor"></div>
    
    <canvas id="backgroundCanvas"></canvas>
    
    <div class="solar-flare"></div>
    <div class="scan-lines"></div>
    
    <button class="sound-toggle" id="soundToggle" title="Toggle sound effects">
        <span class="sound-icon">üîá</span>
    </button>
    
    <div class="easter-egg" id="easterEgg"></div>
    
    <div class="achievement" id="achievement">
        <div class="achievement-icon">üõ∏</div>
        <div class="achievement-text"></div>
    </div>
    
    <div class="station-container">
        <header class="station-header">
            <h1 class="station-title">SYKOSYBER</h1>
            <p class="station-subtitle">DEEP SPACE CREATIVE STATION</p>
            <div class="station-status">
                <div class="status-item" data-status="operational">
                    <div class="status-indicator"></div>
                    <span>STATION OPERATIONAL</span>
                </div>
                <div class="status-item" data-status="online">
                    <div class="status-indicator"></div>
                    <span>SYSTEMS ONLINE</span>
                </div>
                <div class="status-item" data-status="active">
                    <div class="status-indicator"></div>
                    <span>CREATIVE MODULES ACTIVE</span>
                </div>
            </div>
        </header>
        
        <main class="navigation-bridge">
            <h2 class="nav-title">STATION NAVIGATION BRIDGE</h2>
            
            <div class="station-modules">
                
                <a href="creative-archives.html" class="module-link">
                    <div class="module" data-module="archives">
                        <div class="module-header">
                            <span class="module-icon">üìÅ</span>
                            <h3 class="module-title">CREATIVE ARCHIVES</h3>
                        </div>
                        <p class="module-description">
                            Access the complete repository of creative works, projects, and digital artifacts stored in the station's memory banks.
                        </p>
                        <div class="module-status">
                            <span>STATUS: READY</span>
                            
                        </div>
                    </div>
                </a>

                <a href="https://syberlabs.netlify.app/" class="module-link">
                    <div class="module" data-module="lab">
                        <div class="module-header">
                            <span class="module-icon">üî¨</span>
                            <h3 class="module-title">RESEARCH LAB</h3>
                        </div>
                        <p class="module-description">
                            Current experiments, ongoing projects, and the latest research developments from the station's creative laboratories.
                        </p>
                        <div class="module-status">
                            <span>STATUS: ACTIVE</span>
                            
                        </div>
                    </div>
                </a>

                <a href="telemetry.html" class="module-link">
                    <div class="module" data-module="comms">
                        <div class="module-header">
                            <span class="module-icon">üì°</span>
                            <h3 class="module-title">COMMUNICATIONS</h3>
                        </div>
                        <p class="module-description">
                            Establish contact with mission control. Send transmissions and access telemetry channels.
                        </p>
                        <div class="module-status">
                            <span>STATUS: RECEIVING</span>
                            
                        </div>
                    </div>
                </a>
                
                <a href="captains-logs.html" class="module-link">
                    <div class="module" data-module="logs">
                        <div class="module-header">
                            <span class="module-icon">üìù</span>
                            <h3 class="module-title">MISSION BRIEFING</h3>
                        </div>
                        <p class="module-description">
                            Read about the Commander's background, and the station's prime directives in its creative mission.
                        </p>
                        <div class="module-status">
                            <span>STATUS: UPDATING</span>
                            
                        </div>
                    </div>
                </a>
                
            </div>


            <div class="cosmonaut-panel">
                <div class="panel-header">
                    <div class="panel-lights">
                        <div class="panel-light"></div>
                        <div class="panel-light"></div>
                        <div class="panel-light"></div>
                    </div>
                    <span>INTERACTIVE COMMAND CENTER v2.0</span>
                </div>
                
                <h3 class="panel-title">COMMAND CENTER</h3>
                
                <div class="interactive-area">
                    <div class="cosmonaut-container">
                        <div class="cosmonaut-wrapper">
                            <div class="cosmonaut" id="cosmonaut">
                                <div class="cosmonaut-helmet">
                                    <div class="cosmonaut-visor">
                                        <div class="visor-reflection"></div>
                                    </div>
                                </div>
                                <div class="cosmonaut-body">
                                    <div class="chest-panel">
                                        <div class="chest-light" style="animation-delay: 0s"></div>
                                        <div class="chest-light" style="animation-delay: 0.3s"></div>
                                        <div class="chest-light" style="animation-delay: 0.6s"></div>
                                        <div class="chest-light" style="animation-delay: 0.9s"></div>
                                        <div class="chest-light" style="animation-delay: 1.2s"></div>
                                        <div class="chest-light" style="animation-delay: 1.5s"></div>
                                    </div>
                                    <div class="cosmonaut-arm left">
                                        <div class="cosmonaut-hand"></div>
                                    </div>
                                    <div class="cosmonaut-arm right">
                                        <div class="cosmonaut-hand"></div>
                                    </div>
                                </div>
                                <div class="tether"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="interface-screens">
                        <div class="screen">
                            <div class="screen-header">
                                <div class="screen-indicator"></div>
                                SYSTEM INTERFACE
                            </div>
                            <div class="screen-content">
                                <div class="data-stream" id="dataStream">
                                    </div>
                            </div>
                        </div>
                        
                        <div class="screen">
                            <div class="screen-header">
                                <div class="screen-indicator"></div>
                                MISSION PARAMETERS
                            </div>
                            <div class="screen-content">
                                <strong>Primary Objective:</strong> Explore creative frontiers<br>
                                <strong>Status:</strong> <span class="code-highlight">IN PROGRESS</span><br>
                                <strong>Duration:</strong> ‚àû<br>
                                <strong>Discoveries:</strong> <span id="discoveryCount">42</span><br>
                                <strong>Telemetry:</strong> <span id="inspirationLevel">Receiving...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ai-system">
                        <div class="ai-container">
                            <div class="ai-core" id="aiCore">
                                <div class="ai-ring"></div>
                                <div class="ai-ring"></div>
                                <div class="ai-ring"></div>
                                <div class="ai-center"></div>
                                <div class="ai-particles"></div>
                            </div>
                        </div>
                        <div class="ai-status">SYSTEMS ACTIVE</div>
                        <div class="ai-response" id="aiResponse">
                            Analyzing creative patterns...
                        </div>
                    </div>
                </div>
                
                
                <div class="cryptic-text cryptic-1" style="--rotation: -15deg" data-decode="HELLO">0x48656C6C6F</div>
                <div class="cryptic-text cryptic-2" style="--rotation: 10deg" data-decode="BINARY">42 69 6E 61 72 79</div>
                <div class="cryptic-text cryptic-3" style="--rotation: -5deg" data-decode="COSMOS">Q29zbW9z</div>
            </div>
            
            <div class="terminal-interface">
                <div class="terminal-header">
                    <span>SYKOSYBER COMMAND TERMINAL</span>
                    <span id="terminal-time">00:00:00</span>
                </div>
                <div class="terminal-output" id="terminalOutput">
                    <div class="terminal-line" style="animation-delay: 0s;">
                        <span class="terminal-prompt">SYSTEM:</span> Welcome to the Sykosyber Space Station, Commander.
                    </div>
                    <div class="terminal-line" style="animation-delay: 1s;">
                        <span class="terminal-prompt">SYSTEM:</span> All creative modules are operational and ready for exploration.
                    </div>
                </div>
                <div class="terminal-input-container">
                    <span class="terminal-prompt-input">COMMAND></span>
                    <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter command..." autocomplete="off" />
                    <span class="cursor"></span>
                </div>
            </div>

            <section class="observatory-module-container">
                <a href="deep.html" target="_blank" rel="noopener noreferrer" class="observatory-link">
                    <div class="module observatory-module" data-module="observatory-link">
                        <div class="module-header">
                            <span class="module-icon">üåå</span>
                            <h3 class="module-title">DEEP SPACE OBSERVATORY</h3>
                        </div>
                        <p class="module-description">
                            Venture beyond the station. Explore a cosmic-themed archive of discoveries and inspirations.
                        </p>
                        <div class="module-status">
                            <span>ENTER OBSERVATORY</span>
                            <span class="launch-icon">üöÄ</span>
                        </div>
                    </div>
                </a>
            </section>

        </main>
        
        <footer class="footer">
            
            <p>SYKOSYBER SPACE STATION ‚Ä¢ DEEP SPACE COORDINATES: [<span id="coordinates">CALCULATING...</span>] ‚Ä¢ MISSION STATUS: ONGOING</p>
            <p>POWERED BY CREATIVITY AND COSMIC CURIOSITY ‚Ä¢ SYSTEM UPTIME: <span id="uptime">00:00:00</span></p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

        // --- OPTIMIZATION CHANGES ---
        // 1. All background animations (stars, particles) are now drawn on a single canvas.
        // 2. All `setInterval` calls are replaced by a single `requestAnimationFrame` loop (`mainLoop`).
        // 3. This prevents memory leaks from detached DOM nodes and drastically reduces CPU usage.
        
        // --- CORE ELEMENTS ---
        const terminalInput = document.getElementById('terminalInput');
        const terminalOutput = document.getElementById('terminalOutput');
        const customCursor = document.getElementById('customCursor');
        const soundToggle = document.getElementById('soundToggle');
        
        // --- CANVAS SETUP ---
        const canvas = document.getElementById('backgroundCanvas');
        const ctx = canvas.getContext('2d');
        let stars = [];
        let shootingStars = [];
        let particles = [];
        const STAR_COUNT = 250;
        const SHOOTING_STAR_COUNT = 5;
        const PARTICLE_COUNT = 50; // Max particles for AI effect

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // --- SOUND ENGINE ---
        let soundEnabled = false;
        class SoundEffects {
            constructor() { this.context = null; }
            init() { if (!this.context) this.context = new (window.AudioContext || window.webkitAudioContext)(); }
            beep(frequency = 440, duration = 100) {
                if (!soundEnabled || !this.context) return;
                const oscillator = this.context.createOscillator();
                const gainNode = this.context.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(this.context.destination);
                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';
                gainNode.gain.setValueAtTime(0.3, this.context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + duration / 1000);
                oscillator.start(this.context.currentTime);
                oscillator.stop(this.context.currentTime + duration / 1000);
            }
            click() { this.beep(800, 50); }
            success() { this.beep(523, 100); setTimeout(() => this.beep(659, 100), 100); setTimeout(() => this.beep(784, 100), 200); }
            error() { this.beep(200, 200); }
            typing() { this.beep(600, 30); }
        }
        const soundEffects = new SoundEffects();
        
        soundToggle.addEventListener('click', function() {
            soundEnabled = !soundEnabled;
            this.classList.toggle('active');
            if (soundEnabled) {
                soundEffects.init();
                soundEffects.success();
                this.querySelector('.sound-icon').textContent = 'üîä';
            } else {
                this.querySelector('.sound-icon').textContent = 'üîá';
            }
        });

        // --- CANVAS ANIMATION LOGIC ---
        function createStars() {
            stars = [];
            for (let i = 0; i < STAR_COUNT; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 1,
                    opacity: Math.random() * 0.5 + 0.3,
                    opacityDirection: 1,
                    isClickable: Math.random() < 0.1, // 10% of stars are clickable
                    isClicked: false,
                });
            }
        }

        function createShootingStars() {
            shootingStars = [];
            for (let i = 0; i < SHOOTING_STAR_COUNT; i++) {
                shootingStars.push({
                    x: -200,
                    y: Math.random() * canvas.height * 0.5,
                    len: Math.random() * 150 + 100,
                    speed: Math.random() * 3 + 2,
                    delay: Math.random() * 5000,
                    startTime: performance.now()
                });
            }
        }
        
        function resetShootingStar(star) {
            star.x = -200;
            star.y = Math.random() * canvas.height * 0.5;
            star.startTime = performance.now();
        }

        function createAiParticles(count) {
            if (particles.length >= PARTICLE_COUNT) return;
            const aiContainer = document.querySelector('.ai-container');
            if (!aiContainer) return;
            const rect = aiContainer.getBoundingClientRect();
            const originX = rect.left + rect.width / 2;
            const originY = rect.top + rect.height / 2;

            for (let i = 0; i < count; i++) {
                particles.push({
                    x: originX,
                    y: originY,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    life: Math.random() * 100 + 50,
                    size: Math.random() * 2 + 1,
                });
            }
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw stars
            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size / 2, 0, Math.PI * 2);
                ctx.fillStyle = star.isClicked ? '#FFD700' : `rgba(245, 245, 220, ${star.opacity})`;
                if (star.isClicked) {
                    ctx.shadowColor = '#FFD700';
                    ctx.shadowBlur = 15;
                }
                ctx.fill();
                ctx.shadowBlur = 0;
            });
            
            // Draw shooting stars
            ctx.shadowColor = 'rgba(135, 206, 235, 0.8)';
            ctx.shadowBlur = 20;
            shootingStars.forEach(star => {
                ctx.beginPath();
                ctx.moveTo(star.x, star.y);
                ctx.lineTo(star.x + star.len, star.y);
                ctx.strokeStyle = `rgba(135, 206, 235, 0.8)`;
                ctx.lineWidth = 2;
                ctx.stroke();
            });
            ctx.shadowBlur = 0;

            // Draw AI particles
            ctx.fillStyle = 'rgba(135, 206, 235, 0.8)';
            particles.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        function update() {
            // Update star opacity for twinkle effect
            stars.forEach(star => {
                star.opacity += 0.01 * star.opacityDirection;
                if (star.opacity > 1 || star.opacity < 0.3) {
                    star.opacityDirection *= -1;
                }
            });

            // Update shooting star positions
            const now = performance.now();
            shootingStars.forEach(star => {
                if(now > star.startTime + star.delay) {
                    star.x += star.speed;
                    if (star.x > canvas.width + 200) {
                        resetShootingStar(star);
                    }
                }
            });

            // Update AI particle positions
            particles.forEach((p, index) => {
                p.x += p.vx;
                p.y += p.vy;
                p.life--;
                if(p.life <= 0) {
                    particles.splice(index, 1);
                }
            });
        }
        
        // Handle clickable stars on canvas
        let clickedStarsCount = 0;
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;

            stars.forEach(star => {
                if (star.isClickable && !star.isClicked) {
                    const distance = Math.sqrt(Math.pow(mouseX - star.x, 2) + Math.pow(mouseY - star.y, 2));
                    if (distance < 15) { // Clickable radius
                        star.isClicked = true;
                        clickedStarsCount++;
                        soundEffects.success();
                        if (clickedStarsCount === 5) {
                            showEasterEgg('Star Collector: You found the hidden stars!');
                            showAchievement('Star Collector', 'Discovered 5 hidden stars!');
                        }
                    }
                }
            });
        });


        // --- UI & OTHER LOGIC ---
        // (This section contains the original logic, now timed by the main loop)
        
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animateCursor() {
            cursorX += (mouseX - cursorX) * 0.1;
            cursorY += (mouseY - cursorY) * 0.1;
            customCursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
        }

        function updateTime() {
            const now = new Date();
            const timeString = now.toTimeString().split(' ')[0];
            document.getElementById('terminal-time').textContent = timeString;
        }

        let uptimeSeconds = 0;
        function updateUptime() {
            uptimeSeconds++;
            const hours = Math.floor(uptimeSeconds / 3600);
            const minutes = Math.floor((uptimeSeconds % 3600) / 60);
            const seconds = uptimeSeconds % 60;
            document.getElementById('uptime').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function updateDataStream() {
            const dataLines = [
                `> Neural bandwidth: ${(Math.random() * 100).toFixed(1)} TB/s`,
                `> Quantum entanglement: <span class="code-highlight">STABLE</span>`,
                `> Creative flux: ${(Math.random() * 50 + 50).toFixed(1)}%`,
                `> Memory usage: ${(30 + Math.random() * 15).toFixed(1)}%`, // Lower memory usage now!
                `> Time dilation: ${(0.99 + Math.random() * 0.02).toFixed(4)}x`
            ];
            const dataStream = document.getElementById('dataStream');
            if (dataStream) dataStream.innerHTML = dataLines.join('<br>');
        }
        
        function updateAIResponse() {
            const aiResponses = ["Analyzing creative patterns...", "Neural link established.", "Inspiration levels optimal."];
            const aiResponseElement = document.getElementById('aiResponse');
            aiResponseElement.style.opacity = '0';
            setTimeout(() => {
                aiResponseElement.textContent = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                aiResponseElement.style.opacity = '1';
            }, 300);
        }

        function generateCoordinates() {
            const coords = `${Math.random().toFixed(4)}¬∞N ${Math.random().toFixed(4)}¬∞W`;
            document.getElementById('coordinates').textContent = coords;
        }

        function addPeriodicUpdate() {
            const updates = [
                'Cosmic radiation levels stable. Continuing deep space operations.',
                'Creative subroutines optimized. Performance increased by ' + Math.floor(Math.random() * 10 + 5) + '%.',
                'Memory defragmentation complete. ' + Math.floor(Math.random() * 500 + 1000) + ' MB recovered.'
            ];
            const randomUpdate = updates[Math.floor(Math.random() * updates.length)];
            addTerminalLine(randomUpdate);
        }

        // --- THE MAIN LOOP ---
        let lastSecond = 0, last8Seconds = 0, last2Seconds = 0, last20Seconds = 0, last30Seconds = 0;
        function mainLoop(timestamp) {
            animateCursor(); // Runs every frame for smoothness
            update(); // Update positions of canvas objects
            draw(); // Draw all canvas objects

            // Timed updates to avoid running on every frame
            if (timestamp - lastSecond > 1000) { // Every second
                lastSecond = timestamp;
                updateTime();
                updateUptime();
                createAiParticles(2); // Add a couple of particles per second
            }
            if (timestamp - last2Seconds > 2000) {
                last2Seconds = timestamp;
                updateDataStream();
            }
            if (timestamp - last8Seconds > 8000) {
                last8Seconds = timestamp;
                updateAIResponse();
            }
            if (timestamp - last20Seconds > 20000) {
                last20Seconds = timestamp;
                addPeriodicUpdate();
            }
            if (timestamp - last30Seconds > 30000) {
                last30Seconds = timestamp;
                generateCoordinates();
            }

            requestAnimationFrame(mainLoop);
        }

        // --- INITIALIZATION & EVENT LISTENERS ---
        // (Most of this is unchanged from the original)

        function initializeStation() {
            const loadingProgress = document.getElementById('loadingProgress');
            const loadingScreen = document.getElementById('loadingScreen');
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                loadingProgress.style.width = progress + '%';
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        showAchievement('Station Initialized', 'Welcome aboard, Traveler!');
                        // Start the main loop after the loading screen is gone
                        requestAnimationFrame(mainLoop);
                    }, 500);
                }
            }, 200);
        }

        function showEasterEgg(message) {
            const easterEgg = document.getElementById('easterEgg');
            easterEgg.textContent = `[!] ${message}`;
            easterEgg.classList.add('show');
            setTimeout(() => easterEgg.classList.remove('show'), 3000);
        }

        function showAchievement(title, description) {
            const achievement = document.getElementById('achievement');
            achievement.querySelector('.achievement-text').innerHTML = `<strong>${title}</strong><br>${description}`;
            achievement.classList.add('show');
            if (soundEnabled) soundEffects.success();
            setTimeout(() => achievement.classList.remove('show'), 4000);
        }
        
        function addTerminalLine(text, isCommand = false) {
             if (text === null) return;
             const line = document.createElement('div');
             line.className = 'terminal-line';
             line.style.animationDelay = '0s';
             if (isCommand) {
                 line.innerHTML = `<span class="terminal-prompt">COMMAND></span> ${text}`;
             } else {
                 line.innerHTML = `<span class="terminal-prompt">SYSTEM:</span> ${text}`;
             }
             terminalOutput.appendChild(line);
             terminalOutput.scrollTop = terminalOutput.scrollHeight;
             if (soundEnabled) soundEffects.typing();
        }
        
        // Terminal command logic (unchanged)
        const commands = {
            'help': () => 'Available commands: home, archives, lab, comms, logs, specs, observatory, status, clear',

            'status': () => 'All station systems operational. Creative modules online. Deep space signal strong.',

            'clear': () => {
                // Special command to clear the terminal output
                terminalOutput.innerHTML = '';
                return null; // Return null to prevent a "SYSTEM:" response line
            },
            
            'home': () => {
                // Command to navigate "home" by reloading the page
                addTerminalLine('Returning to Command Center initial state...');
                setTimeout(() => window.location.reload(), 1000);
                return 'Re-initializing station interface.';
            },

            'archives': () => {
                // Simulates a click on the corresponding module
                const module = document.querySelector('.module[data-module="archives"]');
                if (module) module.click();
                return 'Accessing Creative Archives module...';
            },

            'lab': () => {
                // Simulates a click on the corresponding module
                const module = document.querySelector('.module[data-module="lab"]');
                if (module) module.click();
                return 'Accessing Research Lab module...';
            },

            'comms': () => {
                // Simulates a click on the corresponding module, which is a link
                const moduleLink = document.querySelector('.module[data-module="comms"]').closest('a');
                if (moduleLink) moduleLink.click();
                return 'Opening Communications link...';
            },

            'logs': () => {
                // Simulates a click on the corresponding module
                const module = document.querySelector('.module[data-module="logs"]');
                if (module) module.click();
                return 'Accessing Captain\'s Logs module...';
            },

            'observatory': () => {
                // Simulates a click on the observatory link
                const observatoryLink = document.querySelector('.observatory-link');
                if (observatoryLink) observatoryLink.click();
                return 'Navigating to Deep Space Observatory... Engaging thrusters.';
            },
            
            'specs': () => {
                // A custom command since there is no 'specs' module
                addTerminalLine('Displaying Station Specifications:', false);
                addTerminalLine('---------------------------------', false);
                addTerminalLine('MODEL: SYKOSYBER-V2 (Optimized)', false);
                addTerminalLine('CORE: Quantum-Entangled JS/CSS', false);
                addTerminalLine('RENDERER: HTML5 Canvas 2D API', false);
                addTerminalLine('STATUS: Nominal', false);
                return 'End of specifications.';
            }
        };
        terminalInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    const input = this.value.toLowerCase().trim();
                    if (input) {
                        addTerminalLine(input, true);
                        const response = commands[input] ? commands[input]() : `Command not recognized: ${input}.`;
                        if (response) addTerminalLine(response);
                        this.value = '';
                    }
                }
        });
        
        // Other event listeners (unchanged)
        document.querySelectorAll('.module').forEach(module => {
            module.addEventListener('click', function() {
                const moduleName = this.dataset.module;
                document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
                this.classList.add('active');
                addTerminalLine(`Accessing ${moduleName.toUpperCase()} module...`);
                if (soundEnabled) soundEffects.click();
            });
        });
        
        // START THE APPLICATION
        createStars();
        createShootingStars();
        initializeStation();
        terminalInput.focus();
        setTimeout(() => addTerminalLine('Type "help" for available commands.'), 3000);

    });
    </script>
</body>
</html>